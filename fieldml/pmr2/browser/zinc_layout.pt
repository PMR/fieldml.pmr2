<metal:block use-macro="here/global_defines/macros/defines" />
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      metal:use-macro="context/main_template/macros/master">

<metal:slot metal:fill-slot="javascript_head_slot" 
    i18n:domain="fieldml.pmr2">

  <script type="application/x-javascript" 
      src="chrome://zinc/content/zinc.js">
  </script>

  <script type="text/javascript"
      tal:attributes="src string:$portal_url/++resource++fieldml.pmr2.js/zinxCore.js">
  </script>

  <script type="text/javascript"
      tal:attributes="src string:$portal_url/++resource++fieldml.pmr2.js/zincInterface.js">
  </script>

  <script type="text/javascript">
  //<![CDATA[
  // This function is optional: It allows you to perform actions on the Zinc plug-in after it has been initialized.                   

  function onZincReady(){
      // Change the materials if you want to here - options are default, black, blue, bone, gold, gray, green, muscle, red, silver, tissue and white.
      window.zincSurfaceMaterial = 'blue';
      window.zincLineMaterial = 'gold';
  
      // Render the first model in the zinc plugin on start up.
      var fileNames = [ 'http://cmiss.bioeng.auckland.ac.nz/development/examples/a/a2/cmiss_input/cube.exelem', 'http://cmiss.bioeng.auckland.ac.nz/development/examples/a/a2/cmiss_input/cube.exnode' ];
      showModel(fileNames);    
  }
  //]]>
  </script>

</metal:slot>

<body>

<metal:slot metal:fill-slot="main" i18n:domain="cmf_default">
  <div id="layout-contents">
    <span tal:replace="structure view/contents" />
  </div>
</metal:slot>
</body>

</html>
